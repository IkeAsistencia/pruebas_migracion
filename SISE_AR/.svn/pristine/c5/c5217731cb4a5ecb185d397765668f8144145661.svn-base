<%@ page contentType="text/html; charset=iso-8859-1" language="java" import="com.ike.catalogos.to.Proveedor,com.ike.catalogos.DAOProveedor,Utilerias.UtileriasBDF,Combos.cbPais,Combos.cbEntidad" errorPage="" %>
<html>
    <head>
        <title>Detalle Proveedor Km0</title>
        <link href="../StyleClasses/Global.css" rel="stylesheet" type="text/css">
    </head>
    <body class="cssBody">
        <jsp:useBean id="MyUtil" scope="session" class="Utilerias.UtileriasObj"/>
        <script type="text/javascript"  src='../Utilerias/Util.js'></script>
        <script type="text/javascript" src='../Utilerias/UtilDireccion.js'></script>
        <script type="text/javascript" src='../Utilerias/UtilMask.js'></script>
        <script type="text/javascript" src='../Utilerias/UtilAjax.js'></script>
        <%
            com.ike.util.I18N i18n = com.ike.util.I18N.getInstance("es", "AR");

            String StrclUsr = "0";
            String StrclProveedor = "0";
            String StrNomOpe = "";
            String CodEnt = "";
            String dsEntFed = "";
            String dsMunDel = "";
            String StrCodMD = "";
            String StrclPaginaWeb = "89";
            int StrclPais = 10; //Pais default:  Argentina

            int xPos = 0, yPos = 0;

            if (session.getAttribute("clUsrApp") != null) {
                StrclUsr = session.getAttribute("clUsrApp").toString();
            }

            if (request.getParameter("clProveedor") != null) {
                StrclProveedor = request.getParameter("clProveedor").toString();
            }

            if (StrclProveedor.compareToIgnoreCase("0") == 0) {
                if (session.getAttribute("clProveedor") != null) {
                    StrclProveedor = session.getAttribute("clProveedor").toString();
                }
            }
            session.setAttribute("clProveedor", StrclProveedor);

                    // ResultSet rs = UtileriasBDF.rsSQLNP("sp_DetalleProveedor " + StrclProveedor + "," + strclUsr);
            Proveedor prov = new Proveedor();
            DAOProveedor dao = new DAOProveedor();

            prov = dao.getProveedor(StrclProveedor, StrclUsr);

            session.setAttribute("clPaginaWebP", StrclPaginaWeb);
        %>
        <script type="text/javascript">fnOpenLinks()</script>
        <%
            MyUtil.InicializaParametrosC(89, Integer.parseInt(StrclUsr));
        %>
        <%=MyUtil.doMenuAct("../servlet/Utilerias.EjecutaAccion", "fnPaisDefault();", "fnLimpiaExtra();")%>
        <INPUT id='URLBACK' name='URLBACK' type='hidden' value='<%=request.getRequestURL().substring(0, request.getRequestURL().lastIndexOf("/") + 1)%><%="DetalleProveedor.jsp?"%>'>
        <%
            if (prov != null) {
                StrNomOpe = prov.getNombreOpe();
                session.setAttribute("NombreOpe", StrNomOpe);

                CodEnt = prov.getCodEnt();
                dsEntFed = prov.getDsEntFed();
                dsMunDel = prov.getDsMunDel();
                StrCodMD = prov.getCodMD();
                StrclPais = Integer.valueOf(prov.getClPais());
            }
                    //System.out.println(dsEntFed + ',' + dsMunDel);
%>
        <INPUT id='clProveedor' name='clProveedor' type='hidden' value='<%= StrclProveedor%>'>
        <INPUT id='clAreaOperativa' name='clAreaOperativa' type='hidden' value='1'>

        <%=MyUtil.ObjInput("Nombre", "NombreRZ", prov != null ? prov.getNombreRZ() : "", true, true, 25, 80, "", true, true, 50)%>
        <%=MyUtil.ObjInput("Nombre En Operación", "NombreOpe", prov != null ? prov.getNombreOpe() : "", true, true, 310, 80, "", true, true, 50)%>
        <%=MyUtil.ObjInput("Titular", "Titular", prov != null ? prov.getTitular() : "", true, true, 25, 120, "", true, true, 50)%>
        <%=MyUtil.ObjComboC("Rubro", "clGiro", prov != null ? prov.getDsGiro() : "", true, true, 310, 120, "", "Select clGiro, dsGiro from cGiro where clAreaOperativa = 1 order by dsGiro", "", "", 45, true, true)%>
        <%=MyUtil.ObjChkBox("", "Activo", prov != null ? prov.getActivo() : "", true, true, 480, 160, "", "ACTIVO", "INACTIVO", "")%>
        <%=MyUtil.ObjInput("CUIT", "RFC", prov != null ? prov.getRFC() : "", true, true, 25, 160, "", false, false, 20, "if(this.readOnly==false){fnValMask(this,document.all.CuitMsk.value,this.name)}")%>
        <%=MyUtil.ObjInput("Nextel", "NumNextel", prov != null ? prov.getNumNextel() : "", true, true, 175, 160, "", false, false, 20)%>
        <%=MyUtil.ObjInput("Horario", "Horario", prov != null ? prov.getHorario() : "", true, true, 310, 160, "", false, false, 30)%>
        <%=MyUtil.ObjComboC("Tipo de Proveedor", "clTipoProveedor", prov != null ? prov.getDsTipoProveedor() : "", true, true, 25, 200, "", "Select clTipoProveedor, dsTipoProveedor from cTipoProveedor where clAreaOperativa = 1 order by dsTipoProveedor", "", "", 20, true, true)%>
        <%=MyUtil.ObjInput("Prioridad", "Prioridad", prov != null ? prov.getPrioridad() : "", true, true, 200, 200, "", true, true, 5)%>
        <%=MyUtil.DoBlock("Detalle de Proveedor de Grúa")%>

        <%=MyUtil.ObjComboMem("Pais", "clPais", prov != null ? prov.getDsPais() : "", prov != null ? prov.getClPais() : "", cbPais.GeneraHTML(20, prov != null ? prov.getDsPais() : ""), true, true, 25, 280, "0", "fnLlenaEntidadAjaxFn(this.value);", "", 20, false, false)%>
        <%=MyUtil.ObjComboMemDiv("Provincia", "CodEnt", dsEntFed, CodEnt, cbEntidad.GeneraHTML(20, dsEntFed, StrclPais), true, true, 280, 280, "", "fnLLenaComboMDAjax(this.value);", "", 20, true, true, "CodEntDiv")%>
        <%=MyUtil.ObjComboMemDiv("Localidad", "CodMD", dsMunDel, StrCodMD, cbEntidad.GeneraHTMLMD(30, CodEnt, dsMunDel), true, true, 660, 280, "", "", "", 20, true, true, "LocalidadDiv")%>
        <%yPos = 320;%>
        <%=MyUtil.ObjInput("Calle", "Calle", prov != null ? prov.getCalle() : "", true, true, 25, yPos, "", false, false, 50)%>
        <%=MyUtil.ObjInput("Código Postal", "CP", prov != null ? prov.getCP() : "", true, true, 310, yPos, "", false, false, 10)%>
        <%=MyUtil.DoBlock("Ubicación del Proveedor", 90, 0)%>

        <%yPos += 90;%>
        <%=MyUtil.ObjComboC("Banco", "clBanco", prov != null ? prov.getDsBanco() : "", true, true, 25, yPos, "", "Select clBanco, Nombre from cBanco where Activo=1 order by Nombre", "", "", 50, false, false)%>
        <%=MyUtil.ObjInput("Num. Sucursal", "SucursalBan", prov != null ? prov.getSucursalBan() : "", true, true, 350, yPos, "", false, false, 15)%>
        <%=MyUtil.ObjInput("Tipo de Cuenta", "TipoCuentaBan", prov != null ? prov.getTipoCuentaBan() : "", true, true, 460, yPos, "", false, false, 20)%>
        <%=MyUtil.ObjChkBox("Cheque", "Cheque", prov != null ? prov.getCheque() : "", true, true, 600, yPos, "", "SI", "NO", "")%>
        <%yPos += 40;%>
        <!--%=MyUtil.ObjInput("Plaza", "PlazaBan", prov != null ? prov.getPlazaBan() : "", true, true, 25, yPos, "", false, false, 5)%-->
        <%=MyUtil.ObjInput("A Nombre De", "ANombreDe", prov != null ? prov.getANombreDe() : "", true, true, 25, yPos, "", false, false, 48)%>
        <%=MyUtil.ObjInput("Num. de Cuenta", "CuentaBan", prov != null ? prov.getCuentaBan() : "", true, true, 305, yPos, "", false, false, 20)%>
        <%=MyUtil.ObjInput("C.B.U.", "Clabe", prov != null ? prov.getClabe() : "", true, true, 440, yPos, "", false, false, 30, "if(this.readOnly==false){fnValMask(this,document.all.CubMsk.value,this.name)}")%>
        <%=MyUtil.ObjInput("CUIT Asociado", "CuitA", prov != null ? prov.getCuitA() : "", true, true, 620, yPos, "", false, false, 20, "if(this.readOnly==false){fnValMask(this,document.all.CuitMsk.value,this.name)}")%>
        <%=MyUtil.ObjInput("Email 1", "Email1", prov != null ? prov.getEmail1() : "", true, true, 25, 485, "", false, false, 40)%>
        <%=MyUtil.ObjInput("Email 2", "Email2", prov != null ? prov.getEmail2() : "", true, true, 250, 485, "", false, false, 40)%>
        <%=MyUtil.ObjInput("Email 3", "Email3", prov != null ? prov.getEmail3() : "", true, true, 475, 485, "", false, false, 40)%>
        <%=MyUtil.DoBlock("Banco del Proveedor", 0, 0)%>
        <%yPos += 150;%>

        <%=MyUtil.ObjTextArea("Observaciones", "Observaciones", prov != null ? prov.getObservaciones() : "", "103", "7", true, true, 30, yPos, "", false, false)%>

        <%=MyUtil.DoBlock("Observaciones Extras", 400, 70)%>
        <%yPos += 160;%>
        <%=MyUtil.ObjChkBox("Convenio Original Firmado(Obligatorio) ", "Convenio", prov != null ? prov.getConvenio() : "", true, true, 30, yPos, "0", "")%>
        <%yPos += 40;%>
        <%=MyUtil.ObjChkBox("Ficha de proveedor(Obligatorio) ", "Ficha", prov != null ? prov.getFicha() : "", true, true, 30, yPos, "0", "")%>
        <%yPos += 40;%>
        <%=MyUtil.ObjChkBox("Conocimientos", "Conocimientos", prov != null ? prov.getConocimientos() : "", true, true, 30, yPos, "0", "")%>
        <%yPos += 40;%>
        <%=MyUtil.ObjChkBox("Experiencia ", "Experiencia", prov != null ? prov.getExperiencia() : "", true, true, 30, yPos, "0", "")%>
        <%yPos += 40;%>
        <%=MyUtil.ObjChkBox("Infraestructura", "Infraestructura", prov != null ? prov.getInfraestructura() : "", true, true, 30, yPos, "0", "")%>
        <%yPos += 40;%>
        <%=MyUtil.ObjChkBox("Copia del " + "cuit" + " (Obligatorio) ", "CopiaRFC", prov != null ? prov.getCopiaRFC() : "", true, true, 30, yPos, "0", "")%>
        <%yPos += 40;%>
        <%=MyUtil.ObjChkBox("Copia de Identificación del responsable y técnicos(Opcional)", "CopiaIdent", prov != null ? prov.getCopiaIdent() : "", true, true, 30, yPos, "0", "")%>
        <%yPos += 40;%>
        <%=MyUtil.ObjChkBox("Estado de cuenta bancaria(Opcional)", "EdoCuenta", prov != null ? prov.getEdoCuenta() : "", true, true, 30, yPos, "0", "")%>
        <%yPos += 40;%>
        <%=MyUtil.ObjChkBox("Copia de factura del negocio u original cancelada(Opcional)", "CopiaFactura", prov != null ? prov.getCopiaFactura() : "", true, true, 30, yPos, "0", "")%>
        <%yPos += 40;%>
        <%=MyUtil.ObjChkBox("Fotografías del negocio(Opcional)", "Fotografias", prov != null ? prov.getFotografias() : "", true, true, 30, yPos, "0", "")%>
        <%=MyUtil.DoBlock("Requisitos de Aprobación", 300, 0)%>

        <input name='CuitMsk' id='CuitMsk' type='hidden' value='VN09VN09F---VN09VN09VN09VN09VN09VN09VN09VN09F/--VN09'>
        <!--input name='CuitAMsk' id='CuitAMsk' type='hidden' value='VN09VN09F---VN09VN09VN09VN09VN09VN09VN09VN09F/--VN09'-->
        <input name='CubMsk' id='CubMsk' type='hidden' value='VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09VN09'>
        <%

            StrclUsr = null;
            StrclProveedor = null;
            StrNomOpe = null;
            StrclPaginaWeb = null;
            CodEnt = null;
            dsEntFed = null;
            dsMunDel = null;
            StrCodMD = null;

            prov = null;
            dao = null;
        %>

        <%=MyUtil.GeneraScripts()%>

        <script>
            function fnPaisDefault() {
                document.all.clPais.value = 10;
                document.all.clPaisC.value = 10;
                fnLlenaEntidadAjaxFn(10); // Carga Entidades de Argentina Por Default
            }
        </script>
    </body>
</html>